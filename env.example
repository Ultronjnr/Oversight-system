# ==============================================
# ENVIRONMENT VARIABLES FOR NETLIFY DEPLOYMENT
# ==============================================
# Copy this file to .env.local for local development
# Add these variables to Netlify → Site Settings → Environment Variables

# -------------------------------
# FRONTEND (React) CONFIGURATION
# -------------------------------
# These variables are safe to expose in the frontend build
# Add these in Netlify → Site Settings → Environment → Environment Variables

# Supabase
REACT_APP_SUPABASE_URL=https://erpjzgxxcgozqzmjubtw.supabase.co
REACT_APP_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVycGp6Z3h4Y2dvenF6bWp1YnR3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg1MzYxOTgsImV4cCI6MjA3NDExMjE5OH0._6HKXe2D0aEtGUnjqWLgjTeKewCLMhJmMwHBtidYh9A

# API URL
REACT_APP_API_URL=https://api.oversight-system.co.za

# Feature flags
REACT_APP_ENABLE_EMAIL_NOTIFICATIONS=true
REACT_APP_ENABLE_FILE_UPLOADS=true
REACT_APP_ENABLE_ANALYTICS=true
REACT_APP_ENABLE_AUDIT_LOGS=true

# -------------------------------
# BACKEND / SECRET CONFIGURATION
# -------------------------------
# Mark these as "Secret" in Netlify so they are not exposed in frontend
# Only backend/serverless functions can access them

# Database (hosted, e.g., Supabase or Postgres server)
DATABASE_URL=postgresql://oversight_user:<your_secure_password>@db-host:5432/oversight_db
DATABASE_USER=oversight_user
DATABASE_PASSWORD=<your_secure_password>
DATABASE_NAME=oversight_db
DATABASE_HOST=db-host
DATABASE_PORT=5432

# JWT & Session secrets
JWT_SECRET=zuRQcUMhjsHEXP/56WoJ9LiMAN/MvJ3ALU0g4YCTGp5JOAxyXojcZCnW/4dFMVRv3OGuppHpGHuhIhjeeVMSkg==
SESSION_SECRET=<another_super_secure_random_string_here>

# Supabase Service Role Key
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVycGp6Z3h4Y2dvenF6bWp1YnR3Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1ODUzNjE5OCwiZXhwIjoyMDc0MTEyMTk4fQ.vBnbjuAJ_3cCgWXtYBn0tgewX5Vl1Yo4CvD_7OjdXm0

# SMTP Email (notifications)
SMTP_USER=michaelmokhoro08@gmail.com
SMTP_PASSWORD=<your_email_app_password>
SMTP_FROM=admin@oversight.co.za
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587

# Security
CORS_ORIGIN=https://oversight-system.co.za
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Legacy Vite variables (for compatibility)
VITE_SUPABASE_URL=https://erpjzgxxcgozqzmjubtw.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVycGp6Z3h4Y2dvenF6bWp1YnR3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg1MzYxOTgsImV4cCI6MjA3NDExMjE5OH0._6HKXe2D0aEtGUnjqWLgjTeKewCLMhJmMwHBtidYh9A

# ==============================================
# NETLIFY SETUP INSTRUCTIONS
# ==============================================
# 
# 1. Frontend Variables: Add all REACT_APP_* variables in Netlify
#    (used during build process)
# 
# 2. Backend Secrets: Add database, JWT, Supabase service role, and SMTP info 
#    as secret environment variables (marked as "Secret" in Netlify)
# 
# 3. Build Settings:
#    - Publish Directory: dist
#    - Build Command: npm run build
# 
# 4. SPA Routing: Already configured with _redirects file and netlify.toml
# 
# 5. Never commit backend secrets in your repository
# 
# 6. For Supabase email links, ensure redirect URLs match:
#    https://oversight-system.co.za exactly
